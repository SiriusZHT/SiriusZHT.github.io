<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Hi,I am Sirius!</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<meta name="description" content="Learn faster, catch up with the technology iteration earlierï¼"/>
<meta name="keywords" content="Learn faster, catch up with the technology iteration earlierï¼"/>

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="https://SiriusZHT.github.io/favicon.ico">

<link rel="stylesheet" href="https://SiriusZHT.github.io/styles/main.css">

<!-- Modernizr JS -->
<script src="https://SiriusZHT.github.io/media/scripts/modernizr-2.6.2.min.js"></script>
<!-- FOR IE9 below -->
<!--[if lt IE 9]>
<scripts src="https://SiriusZHT.github.io/media/scripts/respond.min.js"></scripts>
<![endif]-->

<!-- Comment -->

    
        <link href="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css" rel="stylesheet">
    

    



<!-- katex -->
<!--<link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet">-->

<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">


    <!-- ç™¾åº¦ç»Ÿè®¡ -->
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b24967c26350ddbbc863dfa8be1dd957";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



</head>
<body>
    <div id="fh5co-offcanvas">
    <a href="#!" class="fh5co-close-offcanvas js-fh5co-close-offcanvas">
        <span><i class="icon-cross3"></i> <span>Close</span></span>
    </a>
    <div class="fh5co-bio">
        <figure>
            <img src="https://SiriusZHT.github.io/images/avatar.png" alt="Hi,I am Sirius!"
                 class="img-responsive">
        </figure>
        <a href="https://SiriusZHT.github.io/post/about/"><h3 class="heading">ABOUT ME</h3></a>
        <h2>Hi,I am Sirius!</h2>
        <p>Learn faster, catch up with the technology iteration earlierï¼</p>
        <ul class="fh5co-social">
            
                <li>
                    
                        <a href="https://github.com/SiriusZHT" target="_blank">
                            <i class="fab fa-github"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                        <a href="https://weibo.com/u/6647163947" target="_blank">
                            <i class="fab fa-weibo"></i>
                        </a>
                    
                </li>
            
                <li>
                    
                </li>
            
                <li>
                    
                </li>
            
        </ul>
    </div>

    <div class="fh5co-menu">

        <!-- æ ‡ç­¾ -->
        <div class="fh5co-box">
            <a href="https://SiriusZHT.github.io/tags/"><h3 class="heading">ğŸ‘‰æ ‡ç­¾</h3></a>
            <ul>
                
                    <li><a href="https://SiriusZHT.github.io/tag/6b8sklbLZ/">es6</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/v9lIiSyUe/">JavaScript</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/okpZnLq6u/">DOM</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/-FZHmoZE1/">é¡¹ç›®</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/_s-MRUTdiE/">Python</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/XAd4hx7kCO/">æ­£åˆ™è¡¨è¾¾å¼</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/tA-S-GskDi/">ç½‘ç»œç¼–ç¨‹</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/vHujBc1So/">åšå®¢æ­å»º</a></li>
                
                    <li><a href="https://SiriusZHT.github.io/tag/EeaMJSf0v/">Gridea</a></li>
                
            </ul>
        </div>
    </div>
</div>

<header id="fh5co-header">
    <div class="container-fluid">
        <div class="row">
            <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle"><i></i></a>
            <ul class="fh5co-social">
                
                    <li>
                        <a href="/"
                        
                        >
                            é¦–é¡µ
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives"
                        
                        >
                            å½’æ¡£
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags"
                        
                        >
                            æ ‡ç­¾
                        </a>
                    </li>
                
                    <li>
                        <a href="https://SiriusZHT.github.io/post/ge-ren-zhi-zuo-de-yi-xie-kai-yuan-xiao-xiang-mu"
                        
                        >
                            é¡¹ç›®
                        </a>
                    </li>
                
                    <li>
                        <a href="/post/about"
                        
                        >
                            å…³äº
                        </a>
                    </li>
                
            </ul>
            <div class="col-lg-12 col-md-12 text-center">
                <h1 id="fh5co-logo">
                    <a href="https://SiriusZHT.github.io">Hi,I am Sirius! </a>
                </h1>
            </div>
        </div>
    </div>
</header>


    <!--  <a href="#" class="fh5co-post-prev"><span>ğŸ‘ˆ Prev</span></a>-->
    <!--  <a href="#" class="fh5co-post-next"><span>Next ğŸ‘‰</span></a>-->

    <!-- ç­‰grideaå‡ºè‡ªå®šä¹‰é¡µé¢åŠŸèƒ½å†ä¼˜åŒ–ä¸€ä¸‹ -->
    
        <div class="container-fluid">
    <div class="row fh5co-post-entry single-entry">
        <article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
            <figure class="animate-box">
                
                    <img src="https://SiriusZHT.github.io/post-images/javascript-es6-generator-han-shu.jpeg" alt="ã€JavaScriptã€‘ES6-Generatorå‡½æ•°" class="img-responsive">
                
            </figure>
            <span class="fh5co-meta animate-box">
                
                    <div class="tag-container">
                        
                            <a href="https://SiriusZHT.github.io/tag/6b8sklbLZ/" class="tag">es6, </a>
                        
                            <a href="https://SiriusZHT.github.io/tag/v9lIiSyUe/" class="tag">JavaScript, </a>
                        
                    </div>
                
            </span>
            <h2 class="fh5co-article-title animate-box">ã€JavaScriptã€‘ES6-Generatorå‡½æ•°</h2>
            <ol class="breadcrumb fh5co-meta fh5co-date animate-box" style="margin-bottom:0; background-color:#f8f9fa">
                <li>2021-01-16</li>
                <li>1589å­—</li>
                <li>7 min read</li>
            </ol>

            <div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
                <div class="row">
                    <div class="col-md-12 animate-box post-content">
                        <p> <h2 id="ä¸€-ä»€ä¹ˆæ˜¯generator-å‡½æ•°">ä¸€ã€ä»€ä¹ˆæ˜¯Generator å‡½æ•°</h2>
<h3 id="11-è¯­æ³•">1.1 è¯­æ³•</h3>
<blockquote>
<p>å­¦ä¹  <code>Generator</code> è¯­æ³•ï¼Œä½ éœ€è¦äº†è§£<code>function*</code> ã€<code>yield</code>ã€<code>next</code>ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µã€‚</p>
</blockquote>
<ul>
<li><code>function*</code> ç”¨æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°æ˜¯ç”Ÿæˆå™¨å‡½æ•°ï¼Œå®ƒæ¯”æ™®é€šçš„å‡½æ•°å£°æ˜å¤šäº†ä¸€ä¸ª<code>*</code>,<code>*</code>çš„ä½ç½®æ¯”è¾ƒéšæ„å¯ä»¥æŒ¨ç€ <code>function</code> å…³é”®å­—ï¼Œä¹Ÿå¯ä»¥æŒ¨ç€å‡½æ•°å</li>
<li><code>yield</code> äº§å‡ºçš„æ„æ€ï¼Œè¿™ä¸ªå…³é”®å­—åªèƒ½å‡ºç°åœ¨ç”Ÿæˆå™¨å‡½æ•°ä½“å†…ï¼Œä½†æ˜¯ç”Ÿæˆå™¨ä¸­ä¹Ÿå¯ä»¥æ²¡æœ‰<code>yield</code> å…³é”®å­—ï¼Œå‡½æ•°é‡åˆ° <code>yield</code> çš„æ—¶å€™ä¼šæš‚åœï¼Œå¹¶æŠŠ <code>yield</code> åé¢çš„è¡¨è¾¾å¼ç»“æœæŠ›å‡ºå»</li>
<li><code>next</code>ä½œç”¨æ˜¯å°†ä»£ç çš„æ§åˆ¶æƒäº¤è¿˜ç»™ç”Ÿæˆå™¨å‡½æ•°</li>
</ul>
<pre><code class="language-js">// å£°æ˜ç”Ÿæˆå™¨å‡½æ•°
function* generator() {
    // A
    yield 'foo'
    // B
}
// è·å–ç”Ÿæˆå™¨å¯¹è±¡
let g = generator();
// ç¬¬ä¸€ä¸ª next()ï¼Œé¦–æ¬¡å¯åŠ¨ç”Ÿæˆå™¨
g.next(); // {value: &quot;foo&quot;, done: false}
// å”¤é†’è¢« yield æš‚åœçš„çŠ¶æ€
g.next();
// {value: undefined, done: true}
</code></pre>
<h3 id="12-è¿‡ç¨‹åˆ†æ">1.2 è¿‡ç¨‹åˆ†æ</h3>
<pre><code class="language-js">// åˆ†æä¸€ä¸ªç®€å•ä¾‹å­
function* helloGenerator() {
   yield &quot;hello&quot;;
   yield &quot;generator&quot;;
   return;
}

var h = helloGenerator();

console.log(h.next());//{ value: 'hello', done: false }
console.log(h.next());//{ value: 'generator', done: false }
console.log(h.next());//{ value: 'undefined', done: true }
</code></pre>
<ul>
<li>åˆ›å»ºäº†<code>h</code>å¯¹è±¡ï¼ŒæŒ‡å‘<code>helloGenerator</code>çš„å¥æŸ„</li>
<li>ç¬¬ä¸€æ¬¡è°ƒç”¨<code>next()</code>ï¼Œæ‰§è¡Œåˆ°<code>&quot;yield hello&quot;</code>ï¼Œæš‚ç¼“æ‰§è¡Œ,å¹¶è¿”å›äº†<code>&quot;hello&quot;</code></li>
<li>ç¬¬äºŒæ¬¡è°ƒç”¨<code>next()</code>ï¼Œç»§ç»­ä¸Šä¸€æ¬¡çš„æ‰§è¡Œï¼Œæ‰§è¡Œåˆ°<code>&quot;yield generator&quot;</code>,æš‚ç¼“æ‰§è¡Œï¼Œå¹¶è¿”å›äº†<code>&quot;generator&quot;</code>ã€‚</li>
<li>ç¬¬ä¸‰æ¬¡è°ƒç”¨<code>next()</code>,ç›´æ¥æ‰§è¡Œ<code>return</code>ï¼Œå¹¶è¿”å›<code>done:true</code>ï¼Œè¡¨æ˜ç»“æŸ</li>
</ul>
<blockquote>
<p>ç»è¿‡ä¸Šé¢çš„åˆ†æï¼Œ<code>yield</code>å®é™…å°±æ˜¯æš‚ç¼“æ‰§è¡Œçš„æ ‡ç¤ºï¼Œæ¯æ‰§è¡Œä¸€æ¬¡<code>next()</code>ï¼Œç›¸å½“äºæŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª<code>yield</code>ä½ç½®</p>
</blockquote>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/img_convert/b353767950ca17c65dd80f7ce78c6651.png" alt="" loading="lazy"></figure>
<p><strong>æ€»ç»“ä¸€ä¸‹</strong>ï¼Œ<code>Generator</code>å‡½æ•°æ˜¯<code>ES6</code>æä¾›çš„ä¸€ç§å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡<code>yield</code>æ ‡è¯†ä½å’Œ<code>next()</code>æ–¹æ³•è°ƒç”¨ï¼Œå®ç°å‡½æ•°çš„åˆ†æ®µæ‰§è¡Œ</p>
<h3 id="13-yield-è¡¨è¾¾å¼">1.3 yield è¡¨è¾¾å¼</h3>
<blockquote>
<p><code>yield</code>æ˜¯<code>Generator</code>å‡½æ•°çš„æš‚ç¼“æ‰§è¡Œçš„æ ‡è¯†ï¼Œå¯¹äº<code>yield</code>åªèƒ½é…åˆ<code>Generator</code>å‡½æ•°ä½¿ç”¨ï¼Œåœ¨æ™®é€šçš„å‡½æ•°ä¸­ä½¿ç”¨ä¼šæŠ¥é”™</p>
</blockquote>
<p><code>Generator</code>å‡½æ•°ä¸­è¿˜æœ‰ä¸€ç§<code>yield*</code>è¿™ä¸ªè¡¨è¾¾æ–¹å¼</p>
<pre><code class="language-js">function* foo(){
   	yield &quot;a&quot;;
   	yield &quot;b&quot;;
   }
   function* gen(x,y){
   	  yield 1;
   	  yield 2;
   	  yield* foo();
   	  yield 3;
   }
   var g = gen();
   console.log(g.next());//{value: 1, done: false}
   console.log(g.next());//{value: 2, done: false}
   console.log(g.next());//{value: &quot;a&quot;, done: true}
   console.log(g.next());//{value: &quot;b&quot;, done: true}
   console.log(g.next());//{value: &quot;3&quot;, done: true
}
</code></pre>
<blockquote>
<p>å½“æ‰§è¡Œ<code>yield*</code>æ—¶ï¼Œå®é™…æ˜¯éå†åé¢çš„<code>Generator</code>å‡½æ•°ï¼Œç­‰ä»·äºä¸‹é¢çš„å†™æ³•ï¼š</p>
</blockquote>
<pre><code class="language-js">
function* foo(){
   	yield &quot;a&quot;;
   	yield &quot;b&quot;;
}
function* gen(x,y){
    yield 1;
    yield 2;
    
    for(var value of foo()){
      yield value;
    }
    
    yield 3;
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼š<code>yield</code> åé¢åªèƒ½é€‚é…<code>Generator</code>å‡½æ•°</p>
<h2 id="äºŒ-generatoråº”ç”¨åœºæ™¯">äºŒã€Generatoråº”ç”¨åœºæ™¯</h2>
<h3 id="21-å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾">2.1 å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾</h3>
<blockquote>
<p><code>Generator</code>å‡½æ•°çš„æš‚åœæ‰§è¡Œçš„æ•ˆæœï¼Œæ„å‘³ç€å¯ä»¥æŠŠå¼‚æ­¥æ“ä½œå†™åœ¨<code>yield</code>è¡¨è¾¾å¼é‡Œé¢ï¼Œç­‰åˆ°è°ƒç”¨<code>next</code>æ–¹æ³•æ—¶å†å¾€åæ‰§è¡Œã€‚è¿™å®é™…ä¸Šç­‰åŒäºä¸éœ€è¦å†™å›è°ƒå‡½æ•°äº†ï¼Œå› ä¸ºå¼‚æ­¥æ“ä½œçš„åç»­æ“ä½œå¯ä»¥æ”¾åœ¨<code>yield</code>è¡¨è¾¾å¼ä¸‹é¢ï¼Œåæ­£è¦ç­‰åˆ°è°ƒç”¨<code>next</code>æ–¹æ³•æ—¶å†æ‰§è¡Œã€‚æ‰€ä»¥ï¼Œ<code>Generator</code>å‡½æ•°çš„ä¸€ä¸ªé‡è¦å®é™…æ„ä¹‰å°±æ˜¯ç”¨æ¥å¤„ç†å¼‚æ­¥æ“ä½œï¼Œæ”¹å†™å›è°ƒå‡½æ•°</p>
</blockquote>
<pre><code class="language-js">function* loadUI() {
  showLoadingScreen();
  yield loadUIDataAsynchronously();
  hideLoadingScreen();
}
var loader = loadUI();
// åŠ è½½UI
loader.next()

// å¸è½½UI
loader.next()
</code></pre>
<blockquote>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨<code>loadUI</code>å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°ä¸ä¼šæ‰§è¡Œï¼Œä»…è¿”å›ä¸€ä¸ªéå†å™¨ã€‚ä¸‹ä¸€æ¬¡å¯¹è¯¥éå†å™¨è°ƒç”¨<code>next</code>æ–¹æ³•ï¼Œåˆ™ä¼šæ˜¾ç¤º<code>Loading</code>ç•Œé¢ï¼Œå¹¶ä¸”å¼‚æ­¥åŠ è½½æ•°æ®ã€‚ç­‰åˆ°æ•°æ®åŠ è½½å®Œæˆï¼Œå†ä¸€æ¬¡ä½¿ç”¨nextæ–¹æ³•ï¼Œåˆ™ä¼šéšè—<code>Loading</code>ç•Œé¢ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§å†™æ³•çš„å¥½å¤„æ˜¯æ‰€æœ‰<code>Loading</code>ç•Œé¢çš„é€»è¾‘ï¼Œéƒ½è¢«å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ï¼ŒæŒ‰éƒ¨å°±ç­éå¸¸æ¸…æ™°</p>
</blockquote>
<ul>
<li>é€šè¿‡<code>Generator</code>å‡½æ•°éƒ¨ç½²<code>Ajax</code>æ“ä½œï¼Œå¯ä»¥ç”¨åŒæ­¥çš„æ–¹å¼è¡¨è¾¾ã€‚</li>
</ul>
<pre><code class="language-js">function* main() {
  var result = yield request(&quot;http://some.url&quot;);
  var resp = JSON.parse(result);
    console.log(resp.value);
}

function request(url) {
  makeAjaxCall(url, function(response){
    it.next(response);
  });
}

var it = main();
it.next();
</code></pre>
<h3 id="22-æ§åˆ¶æµç®¡ç†">2.2 æ§åˆ¶æµç®¡ç†</h3>
<pre><code class="language-js">// å¼‚æ­¥å‡½æ•°

function getDataAsync (url) {
    return new Promise((resolve, reject) =&gt; {
        setTimeout(() =&gt; {
            var res = {
                url: url,
                data: Math.random()
            }
            resolve(res)
        }, 1000)
    })
}
</code></pre>
<blockquote>
<p>ä½¿ç”¨ <code>Generator</code> å‡½æ•°å¯ä»¥è¿™æ ·å†™</p>
</blockquote>
<pre><code class="language-js">function * getData () {
    var res1 = yield getDataAsync('/page/1?param=123')
    console.log(res1)
    var res2 = yield getDataAsync(`/page/2?param=${res1.data}`)
    console.log(res2)
    var res3 = yield getDataAsync(`/page/2?param=${res2.data}`)
    console.log(res3))
}
</code></pre>
<blockquote>
<p>ç„¶åæˆ‘ä»¬è¿™æ ·é€æ­¥æ‰§è¡Œ</p>
</blockquote>
<pre><code class="language-js">var g = getData()
g.next().value.then(res1 =&gt; {
    g.next(res1).value.then(res2 =&gt; {
        g.next(res2).value.then(() =&gt; {
            g.next()
        })
    })
})
</code></pre>
<blockquote>
<p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬é€æ­¥è°ƒç”¨éå†å™¨çš„ <code>next()</code>æ–¹æ³•ï¼Œç”±äºæ¯ä¸€ä¸ª <code>next()</code> æ–¹æ³•è¿”å›å€¼çš„ <code>value</code> å±æ€§ä¸ºä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ºå…¶æ·»åŠ  <code>then</code>æ–¹æ³•ï¼Œ åœ¨ <code>then</code> æ–¹æ³•é‡Œé¢æ¥ç€è¿è¡Œ <code>next</code> æ–¹æ³•æŒªç§»éå†å™¨æŒ‡é’ˆï¼Œç›´åˆ° <code>Generator</code> å‡½æ•°è¿è¡Œå®Œæˆï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä¸å¿…æ‰‹åŠ¨å®Œæˆï¼Œå¯ä»¥å°è£…æˆä¸€ä¸ªç®€å•çš„æ‰§è¡Œå™¨</p>
</blockquote>
<pre><code class="language-js">function run (gen) {
    var g = gen()

    function next (data) {
        var res = g.next(data)
        if (res.done) return res.value
        res.value.then((data) =&gt; {
            next(data)
        })
    }
    next()
}
</code></pre>
<blockquote>
<p><code>run</code>æ–¹æ³•ç”¨æ¥è‡ªåŠ¨è¿è¡Œå¼‚æ­¥çš„ <code>Generator</code> å‡½æ•°ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹è°ƒç”¨çš„è¿‡ç¨‹ã€‚è¿™æ ·æˆ‘ä»¬å°±ä¸å¿…æ‰‹åŠ¨æ‰§è¡Œ <code>Generator</code> å‡½æ•°äº†ã€‚ æœ‰äº† <code>run</code> æ–¹æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦è¿™æ ·è¿è¡Œ <code>getData</code> æ–¹æ³•</p>
</blockquote>
<pre><code>run(getData)
</code></pre>
<blockquote>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå¼‚æ­¥æ“ä½œå°è£…åˆ° <code>Generator</code> å‡½æ•°å†…éƒ¨ï¼Œä½¿ç”¨ <code>run</code>æ–¹æ³•ä½œä¸º <code>Generator</code> å‡½æ•°çš„è‡ªæ‰§è¡Œå™¨ï¼Œæ¥å¤„ç†å¼‚æ­¥ã€‚å…¶å®æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œ <code>async/await</code> æ–¹æ³•ç›¸æ¯”äº <code>Generator</code> å¤„ç†å¼‚æ­¥çš„æ–¹å¼ï¼Œæœ‰å¾ˆå¤šç›¸ä¼¼çš„åœ°æ–¹ï¼Œåªä¸è¿‡ async/await åœ¨è¯­ä¹‰åŒ–æ–¹é¢æ›´åŠ æ˜æ˜¾ï¼ŒåŒæ—¶ <code>async/await</code> ä¸éœ€è¦æˆ‘ä»¬æ‰‹å†™æ‰§è¡Œå™¨ï¼Œå…¶å†…éƒ¨å·²ç»å¸®æˆ‘ä»¬å°è£…å¥½äº†ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¯´ <code>async/await</code>æ˜¯ <code>Generator</code>å‡½æ•°å¤„ç†å¼‚æ­¥çš„è¯­æ³•ç³–äº†</p>
</blockquote>
<h3 id="23-éƒ¨ç½²-iterator-æ¥å£">2.3 éƒ¨ç½² Iterator æ¥å£</h3>
<blockquote>
<p>åˆ©ç”¨ <code>Generator</code> å‡½æ•°ï¼Œå¯ä»¥åœ¨ä»»æ„å¯¹è±¡ä¸Šéƒ¨ç½² <code>Iterator</code> æ¥å£ã€‚</p>
</blockquote>
<pre><code class="language-js">function* iterEntries(obj) {
  let keys = Object.keys(obj);
  for (let i=0; i &lt; keys.length; i++) {
    let key = keys[i];
    yield [key, obj[key]];
  }
}

let myObj = { foo: 3, bar: 7 };

for (let [key, value] of iterEntries(myObj)) {
  console.log(key, value);
}

// foo 3
// bar 7
</code></pre>
<blockquote>
<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>myObj</code>æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œé€šè¿‡<code>iterEntries</code>å‡½æ•°ï¼Œå°±æœ‰äº† <code>Iterator</code> æ¥å£ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥åœ¨ä»»æ„å¯¹è±¡ä¸Šéƒ¨ç½²<code>next</code>æ–¹æ³•</p>
</blockquote>
<pre><code class="language-js">// ä¸‹é¢æ˜¯ä¸€ä¸ªå¯¹æ•°ç»„éƒ¨ç½² Iterator æ¥å£çš„ä¾‹å­ï¼Œå°½ç®¡æ•°ç»„åŸç”Ÿå…·æœ‰è¿™ä¸ªæ¥å£

function* makeSimpleGenerator(array){
  var nextIndex = 0;

  while(nextIndex &lt; array.length){
    yield array[nextIndex++];
  }
}

var gen = makeSimpleGenerator(['yo', 'ya']);

gen.next().value // 'yo'
gen.next().value // 'ya'
gen.next().done  // true
</code></pre>
<h2 id="ä¸‰-æ›´å¤šå‚è€ƒ">ä¸‰ã€æ›´å¤šå‚è€ƒ</h2>
<ul>
<li><a href="http://es6.ruanyifeng.com/#docs/generator">ryfæ•™ç¨‹-generator</a></li>
<li>FE- interview</li>
</ul>
 </p>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 animate-box">
                        
                            <div class="next-post">
                                <div class="next">ä¸‹ä¸€ç¯‡</div>
                                <a href="https://SiriusZHT.github.io/post/javascript-dom-bian-cheng-xue-xi-zong-jie-pian/">
                                    <h3 class="post-title">
                                        ã€JavaScriptã€‘DOMç¼–ç¨‹å­¦ä¹ æ€»ç»“ç¯‡
                                    </h3>
                                </a>
                            </div>
                        
                    </div>
                </div>

                <div class="row">
    <div class="col-md-12 animate-box">
        
            
                <div id="gitalk-container"></div>
            

            
        
    </div>
</div>

            </div>

        </article>
    </div>
</div>

    

    <!-- è¿”å›é¡¶éƒ¨ -->
    <div class="back-to-top">
    
        <a href="#!" id="tool-toc" class="hidden-xs hidden-sm">
            <i class="fa fa-map"></i>
        </a>
        <br>
    
    <a href="#top" class="hidden-xs hidden-sm"><i class="fa fa-paper-plane"></i></a>
</div>

<div class="post-toc animated fadeInRight hidden-xs hidden-sm" style="display: none;">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AFgenerator-%E5%87%BD%E6%95%B0">ä¸€ã€ä»€ä¹ˆæ˜¯Generator å‡½æ•°</a>
<ul>
<li><a href="#11-%E8%AF%AD%E6%B3%95">1.1 è¯­æ³•</a></li>
<li><a href="#12-%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90">1.2 è¿‡ç¨‹åˆ†æ</a></li>
<li><a href="#13-yield-%E8%A1%A8%E8%BE%BE%E5%BC%8F">1.3 yield è¡¨è¾¾å¼</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C-generator%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF">äºŒã€Generatoråº”ç”¨åœºæ™¯</a>
<ul>
<li><a href="#21-%E5%BC%82%E6%AD%A5%E6%93%8D%E4%BD%9C%E7%9A%84%E5%90%8C%E6%AD%A5%E5%8C%96%E8%A1%A8%E8%BE%BE">2.1 å¼‚æ­¥æ“ä½œçš„åŒæ­¥åŒ–è¡¨è¾¾</a></li>
<li><a href="#22-%E6%8E%A7%E5%88%B6%E6%B5%81%E7%AE%A1%E7%90%86">2.2 æ§åˆ¶æµç®¡ç†</a></li>
<li><a href="#23-%E9%83%A8%E7%BD%B2-iterator-%E6%8E%A5%E5%8F%A3">2.3 éƒ¨ç½² Iterator æ¥å£</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89-%E6%9B%B4%E5%A4%9A%E5%8F%82%E8%80%83">ä¸‰ã€æ›´å¤šå‚è€ƒ</a></li>
</ul>
</li>
</ul>

</div>


    
<footer id="fh5co-footer">
  <p>Powered by <a href="https://github.com/SiriusZHT" target="_blank">SiriusZHT</a></p>
</footer>


    <!-- jQuery -->
<script src="https://SiriusZHT.github.io/media/scripts/jquery.min.js"></script>
<!-- img lazy load -->
<script src="https://SiriusZHT.github.io/media/scripts/jquery.lazyload.min.js"></script>
<!-- jQuery Easing -->
<script src="https://SiriusZHT.github.io/media/scripts/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="https://SiriusZHT.github.io/media/scripts/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="https://SiriusZHT.github.io/media/scripts/jquery.waypoints.min.js"></script>
<!-- Main JS -->
<script src="https://SiriusZHT.github.io/media/scripts/main.js"></script>
<!-- Md5 Min JS -->
<script src="https://SiriusZHT.github.io/media/scripts/md5.min.js"></script>
<!-- katex -->
<!--<script src="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.js"></script>-->
<!-- highlight -->
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>


<script type="application/javascript">
    // ä»£ç é«˜äº®
    hljs.initHighlightingOnLoad();

    // img æ‡’åŠ è½½
    $(function () {
        $("img.lazy").lazyload({
            effect: "fadeIn",  // æ‡’åŠ è½½åŠ¨ç”»
            threshold: 180  // åœ¨å›¾ç‰‡è·ç¦»å±å¹•180pxæ—¶æå‰è½½å…¥
        });
        // tooltip
        $('[data-toggle="tooltip"]').tooltip();

        // ç›®å½•
        $('#tool-toc').click(function () {
            $('.post-toc').toggle();
        });
    });

    
        var allImg = $("img");
        allImg.on("contextmenu", function () {
            return false;
        });
        allImg.on("dragstart", function () {
            return false;
        });
    
</script>



    
        <script src="https://cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>
        <script>

            var gitalk = new Gitalk({
                clientID: '0e2b7616ef50e5477f63',
                clientSecret: '4f4531fcaf20c0c748d00ca4f35a0e2cf3672090',
                repo: 'SiriusZHT.github.io',
                owner: 'SiriusZHT',
                admin: ['SiriusZHT'],
                id: md5(location.pathname),      // Ensure uniqueness and length less than 50
                distractionFreeMode: false  // Facebook-like distraction free mode
            })

            gitalk.render('gitalk-container')

        </script>
    

    




</body>
</html>
